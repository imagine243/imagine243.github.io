<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.8.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"بحث...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>
<meta name="description" content="less is more">
<meta property="og:type" content="website">
<meta property="og:title" content="imagine">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="imagine">
<meta property="og:description" content="less is more">
<meta property="og:locale">
<meta property="article:author" content="imagine243">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/2/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-Hans","comments":"","permalink":"","path":"page/2/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>imagine</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="تشغيل شريط التصفح" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">imagine</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">you not genius ,so become genius.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          المحتويات
        </li>
        <li class="sidebar-nav-overview">
          عام
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">imagine243</p>
  <div class="site-description" itemprop="description">less is more</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">24</span>
          <span class="site-state-item-name">المقالات</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">التصنيفات</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">الوسوم</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/28/cpp-2-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="imagine243">
      <meta itemprop="description" content="less is more">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imagine">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/28/cpp-2-4/" class="post-title-link" itemprop="url">const</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">نُشر في</span>

      <time title="أُنشأ: 2017-02-28 17:38:14" itemprop="dateCreated datePublished" datetime="2017-02-28T17:38:14+08:00">2017-02-28</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">عُدل في</span>
        <time title="عُدل: 2021-11-11 17:02:04" itemprop="dateModified" datetime="2021-11-11T17:02:04+08:00">2021-11-11</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="const"><a href="#const" class="headerlink" title="const"></a>const</h1><h1 id="const作用范围"><a href="#const作用范围" class="headerlink" title="const作用范围"></a>const作用范围</h1><p>默认情况下 const的对象仅在文件内有效， 要做到每个使用了const 对象的文件都能访问到它的初始值，就需要在每个文件中定义同名的const变量。<br>这样就会产生大量的重复定义，解决办法是 在定义前面添加 extern 关键字，这样就只需要定义一次。</p>
<p><img src="/uploads/14882751985729.jpg"></p>
<h1 id="const-引用"><a href="#const-引用" class="headerlink" title="const 引用"></a>const 引用</h1><p>一种引用方式是原本的对象就是常量，引用也是常量，都不可以改变</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const int ci = 1024;</span><br><span class="line">const int &amp;ri = ci;</span><br><span class="line">cout&lt;&lt; ri&lt;&lt; endl;</span><br></pre></td></tr></table></figure>

<p>但是原本的对象可以不适常量， 引用可以是常量也可以不是，但是引用和原本对象之间的绑定关系不可以改变，原本对象可以改变。如下图所解释的。</p>
<p><img src="/uploads/14883392364050.jpg"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int ci = 1024;</span><br><span class="line">const int &amp;ri = ci;</span><br><span class="line">ci = 1111;</span><br><span class="line">cout&lt;&lt; ri&lt;&lt; endl;</span><br></pre></td></tr></table></figure>

<p>这中间的机制是，原本ci进行了自动转化为const int类型。</p>
<h1 id="顶层const与底层const"><a href="#顶层const与底层const" class="headerlink" title="顶层const与底层const"></a>顶层const与底层const</h1><p><img src="/uploads/14887833321005.jpg"></p>
<p><img src="/uploads/14887833419019.jpg"></p>
<h1 id="constexpr"><a href="#constexpr" class="headerlink" title="constexpr"></a>constexpr</h1><p>constexpr 类型定义一个编译器来验证变凉的值是否是一个常量表达式，关键是在编译期检查。<br>constexpr 可以定义变量和函数。<br>constexpr定义的指针是顶层const。</p>
<h1 id="decltype"><a href="#decltype" class="headerlink" title="decltype"></a>decltype</h1>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/27/cpp-2-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="imagine243">
      <meta itemprop="description" content="less is more">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imagine">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/27/cpp-2-3/" class="post-title-link" itemprop="url">复合类型</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">نُشر في</span>

      <time title="أُنشأ: 2017-02-27 17:42:55" itemprop="dateCreated datePublished" datetime="2017-02-27T17:42:55+08:00">2017-02-27</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">عُدل في</span>
        <time title="عُدل: 2021-11-11 17:02:04" itemprop="dateModified" datetime="2021-11-11T17:02:04+08:00">2021-11-11</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="复合类型"><a href="#复合类型" class="headerlink" title="复合类型"></a>复合类型</h1><h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p><img src="/uploads/14881886161386.jpg"></p>
<h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h2><p><img src="/uploads/14881888319598.jpg"></p>
<p><img src="/uploads/14881899630621.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/27/cpp-2-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="imagine243">
      <meta itemprop="description" content="less is more">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imagine">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/27/cpp-2-1/" class="post-title-link" itemprop="url">类型转换</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">نُشر في</span>

      <time title="أُنشأ: 2017-02-27 14:53:11" itemprop="dateCreated datePublished" datetime="2017-02-27T14:53:11+08:00">2017-02-27</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">عُدل في</span>
        <time title="عُدل: 2021-11-11 17:02:04" itemprop="dateModified" datetime="2021-11-11T17:02:04+08:00">2021-11-11</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h1><p><img src="/uploads/14881784087961.jpg"></p>
<p>• When we assign one of the nonbool arithmetic types to a bool object, the result is false if the value is 0 and true otherwise.</p>
<p>• When we assign a bool to one of the other arithmetic types, the resulting value is 1 if the bool is true and 0 if the bool is false.</p>
<p>• When we assign a floating-point value to an object of integral type, the value is truncated. The value that is stored is the part before the decimal point.</p>
<p>• When we assign an integral value to an object of floating-point type, the fractional part is zero. Precision may be lost if the integer has more bits than the floating-point object can accommodate.</p>
<p>• If we assign an out-of-range value to an object of unsigned type, the result is the remainder of the value modulo the number of values the target type can hold. For example, an 8-bit unsigned char can hold values from 0 through 255, inclusive. If we assign a value outside this range, the compiler assigns the remainder of that value modulo 256. Therefore, assigning –1 to an 8-bit unsigned char gives that object the value 255.</p>
<p>• If we assign an out-of-range value to an object of signed type, the result is undefined. The program might appear to work, it might crash, or it might produce garbage values.</p>
<p><img src="/uploads/14881789121875.jpg"></p>
<p>经常遇到的 给一个类型赋值超出了他的表达范围时 可以使用这个方法。</p>
<p>几个例子 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">unsigned char c ;</span><br><span class="line">int i;</span><br><span class="line">c = -5;</span><br><span class="line">i = c;</span><br><span class="line">std::cout &lt;&lt; &quot;unsigned char c is &quot; &lt;&lt; c &lt;&lt; &quot;  &quot; &lt;&lt; i &lt;&lt;std::endl;</span><br><span class="line"></span><br><span class="line">c = -246;</span><br><span class="line">i = c;</span><br><span class="line">std::cout &lt;&lt; &quot;unsigned char c is &quot; &lt;&lt; c &lt;&lt; &quot;  &quot; &lt;&lt; i &lt;&lt;std::endl;</span><br><span class="line"></span><br><span class="line">c = 266;</span><br><span class="line">i = c;</span><br><span class="line">std::cout &lt;&lt; &quot;unsigned char c is &quot; &lt;&lt; c &lt;&lt; &quot;  &quot; &lt;&lt; i &lt;&lt;std::endl;</span><br></pre></td></tr></table></figure>

<p>输出是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">unsigned char c is \373  251</span><br><span class="line">unsigned char c is </span><br><span class="line">  10</span><br><span class="line">unsigned char c is </span><br><span class="line">  10</span><br></pre></td></tr></table></figure>


<p><img src="/uploads/14881820834730.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/24/cpp-1-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="imagine243">
      <meta itemprop="description" content="less is more">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imagine">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/24/cpp-1-5/" class="post-title-link" itemprop="url">通过cin>> 读取 和cout<< 打印的类</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">نُشر في</span>

      <time title="أُنشأ: 2017-02-24 11:15:39" itemprop="dateCreated datePublished" datetime="2017-02-24T11:15:39+08:00">2017-02-24</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">عُدل في</span>
        <time title="عُدل: 2021-11-11 17:02:04" itemprop="dateModified" datetime="2021-11-11T17:02:04+08:00">2021-11-11</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="通过cin-gt-gt-读取-和cout-lt-lt-打印的类"><a href="#通过cin-gt-gt-读取-和cout-lt-lt-打印的类" class="headerlink" title="通过cin&gt;&gt; 读取 和cout&lt;&lt; 打印的类"></a>通过cin&gt;&gt; 读取 和cout&lt;&lt; 打印的类</h1><p>在cpp primer 1.5章中第一次出现的Sales_item类 这个类可以支持标准库中的 cin&gt;&gt; 读取 和cout&lt;&lt; 打印，同时还大量重载了操作符，是一个很好的例子。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> * This file contains code from &quot;C++ Primer, Fifth Edition&quot;, by Stanley B.</span><br><span class="line"> * Lippman, Josee Lajoie, and Barbara E. Moo, and is covered under the</span><br><span class="line"> * copyright and warranty notices given in that book:</span><br><span class="line"> * </span><br><span class="line"> * &quot;Copyright (c) 2013 by Objectwrite, Inc., Josee Lajoie, and Barbara E. Moo.&quot;</span><br><span class="line"> * </span><br><span class="line"> * </span><br><span class="line"> * &quot;The authors and publisher have taken care in the preparation of this book,</span><br><span class="line"> * but make no expressed or implied warranty of any kind and assume no</span><br><span class="line"> * responsibility for errors or omissions. No liability is assumed for</span><br><span class="line"> * incidental or consequential damages in connection with or arising out of the</span><br><span class="line"> * use of the information or programs contained herein.&quot;</span><br><span class="line"> * </span><br><span class="line"> * Permission is granted for this code to be used for educational purposes in</span><br><span class="line"> * association with the book, given proper citation if and when posted or</span><br><span class="line"> * reproduced.Any commercial use of this code requires the explicit written</span><br><span class="line"> * permission of the publisher, Addison-Wesley Professional, a division of</span><br><span class="line"> * Pearson Education, Inc. Send your request for permission, stating clearly</span><br><span class="line"> * what code you would like to use, and in what specific way, to the following</span><br><span class="line"> * address: </span><br><span class="line"> * </span><br><span class="line"> *     Pearson Education, Inc.</span><br><span class="line"> *     Rights and Permissions Department</span><br><span class="line"> *     One Lake Street</span><br><span class="line"> *     Upper Saddle River, NJ  07458</span><br><span class="line"> *     Fax: (201) 236-3290</span><br><span class="line">*/ </span><br><span class="line"></span><br><span class="line">/* This file defines the Sales_item class used in chapter 1.</span><br><span class="line"> * The code used in this file will be explained in</span><br><span class="line"> * Chapter 7 (Classes) and Chapter 14 (Overloaded Operators)</span><br><span class="line"> * Readers shouldn&#x27;t try to understand the code in this file</span><br><span class="line"> * until they have read those chapters.</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">#ifndef SALESITEM_H</span><br><span class="line">// we&#x27;re here only if SALESITEM_H has not yet been defined </span><br><span class="line">#define SALESITEM_H</span><br><span class="line"></span><br><span class="line">// Definition of Sales_item class and related functions goes here</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line"></span><br><span class="line">class Sales_item &#123;</span><br><span class="line">// these declarations are explained section 7.2.1, p. 270 </span><br><span class="line">// and in chapter 14, pages 557, 558, 561</span><br><span class="line">friend std::istream&amp; operator&gt;&gt;(std::istream&amp;, Sales_item&amp;);</span><br><span class="line">friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp;, const Sales_item&amp;);</span><br><span class="line">friend bool operator&lt;(const Sales_item&amp;, const Sales_item&amp;);</span><br><span class="line">friend bool </span><br><span class="line">operator==(const Sales_item&amp;, const Sales_item&amp;);</span><br><span class="line">public:</span><br><span class="line">    // constructors are explained in section 7.1.4, pages 262 - 265</span><br><span class="line">    // default constructor needed to initialize members of built-in type</span><br><span class="line">    Sales_item() = default;</span><br><span class="line">    Sales_item(const std::string &amp;book): bookNo(book) &#123; &#125;</span><br><span class="line">    Sales_item(std::istream &amp;is) &#123; is &gt;&gt; *this; &#125;</span><br><span class="line">public:</span><br><span class="line">    // operations on Sales_item objects</span><br><span class="line">    // member binary operator: left-hand operand bound to implicit this pointer</span><br><span class="line">    Sales_item&amp; operator+=(const Sales_item&amp;);</span><br><span class="line">    </span><br><span class="line">    // operations on Sales_item objects</span><br><span class="line">    std::string isbn() const &#123; return bookNo; &#125;</span><br><span class="line">    double avg_price() const;</span><br><span class="line">// private members as before</span><br><span class="line">private:</span><br><span class="line">    std::string bookNo;      // implicitly initialized to the empty string</span><br><span class="line">    unsigned units_sold = 0; // explicitly initialized</span><br><span class="line">    double revenue = 0.0;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// used in chapter 10</span><br><span class="line">inline</span><br><span class="line">bool compareIsbn(const Sales_item &amp;lhs, const Sales_item &amp;rhs) </span><br><span class="line">&#123; return lhs.isbn() == rhs.isbn(); &#125;</span><br><span class="line"></span><br><span class="line">// nonmember binary operator: must declare a parameter for each operand</span><br><span class="line">Sales_item operator+(const Sales_item&amp;, const Sales_item&amp;);</span><br><span class="line"></span><br><span class="line">inline bool </span><br><span class="line">operator==(const Sales_item &amp;lhs, const Sales_item &amp;rhs)</span><br><span class="line">&#123;</span><br><span class="line">    // must be made a friend of Sales_item</span><br><span class="line">    return lhs.units_sold == rhs.units_sold &amp;&amp;</span><br><span class="line">           lhs.revenue == rhs.revenue &amp;&amp;</span><br><span class="line">           lhs.isbn() == rhs.isbn();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">inline bool </span><br><span class="line">operator!=(const Sales_item &amp;lhs, const Sales_item &amp;rhs)</span><br><span class="line">&#123;</span><br><span class="line">    return !(lhs == rhs); // != defined in terms of operator==</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// assumes that both objects refer to the same ISBN</span><br><span class="line">Sales_item&amp; Sales_item::operator+=(const Sales_item&amp; rhs) </span><br><span class="line">&#123;</span><br><span class="line">    units_sold += rhs.units_sold; </span><br><span class="line">    revenue += rhs.revenue; </span><br><span class="line">    return *this;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// assumes that both objects refer to the same ISBN</span><br><span class="line">Sales_item </span><br><span class="line">operator+(const Sales_item&amp; lhs, const Sales_item&amp; rhs) </span><br><span class="line">&#123;</span><br><span class="line">    Sales_item ret(lhs);  // copy (|lhs|) into a local object that we&#x27;ll return</span><br><span class="line">    ret += rhs;           // add in the contents of (|rhs|) </span><br><span class="line">    return ret;           // return (|ret|) by value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::istream&amp; </span><br><span class="line">operator&gt;&gt;(std::istream&amp; in, Sales_item&amp; s)</span><br><span class="line">&#123;</span><br><span class="line">    double price;</span><br><span class="line">    in &gt;&gt; s.bookNo &gt;&gt; s.units_sold &gt;&gt; price;</span><br><span class="line">    // check that the inputs succeeded</span><br><span class="line">    if (in)</span><br><span class="line">        s.revenue = s.units_sold * price;</span><br><span class="line">    else </span><br><span class="line">        s = Sales_item();  // input failed: reset object to default state</span><br><span class="line">    return in;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::ostream&amp; </span><br><span class="line">operator&lt;&lt;(std::ostream&amp; out, const Sales_item&amp; s)</span><br><span class="line">&#123;</span><br><span class="line">    out &lt;&lt; s.isbn() &lt;&lt; &quot; &quot; &lt;&lt; s.units_sold &lt;&lt; &quot; &quot;</span><br><span class="line">        &lt;&lt; s.revenue &lt;&lt; &quot; &quot; &lt;&lt; s.avg_price();</span><br><span class="line">    return out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">double Sales_item::avg_price() const</span><br><span class="line">&#123;</span><br><span class="line">    if (units_sold) </span><br><span class="line">        return revenue/units_sold; </span><br><span class="line">    else </span><br><span class="line">        return 0;</span><br><span class="line">&#125;</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/23/cpp-summary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="imagine243">
      <meta itemprop="description" content="less is more">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imagine">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/23/cpp-summary/" class="post-title-link" itemprop="url">summary about reading <<cpp primer>></a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">نُشر في</span>

      <time title="أُنشأ: 2017-02-23 18:11:54" itemprop="dateCreated datePublished" datetime="2017-02-23T18:11:54+08:00">2017-02-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">عُدل في</span>
        <time title="عُدل: 2021-11-11 17:02:04" itemprop="dateModified" datetime="2021-11-11T17:02:04+08:00">2021-11-11</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="summary-about-reading-lt-gt"><a href="#summary-about-reading-lt-gt" class="headerlink" title="summary about reading &lt;&gt;"></a>summary about reading &lt;<cpp primer>&gt;</h1><h2 id="Entering-an-End-of-File-from-the-Keyboard"><a href="#Entering-an-End-of-File-from-the-Keyboard" class="headerlink" title="Entering an End-of-File from the Keyboard"></a>Entering an End-of-File from the Keyboard</h2><p>When we enter input to a program from the keyboard, different operating systems use different conventions to allow us to indicate end-of-file. On Windows systems we enter an end-of-file by typing a control-z—hold down the Ctrl key and press z—followed by hitting either the Enter or Return key. On UNIX systems, including on Mac OS X machines, end-of-file is usually control-d.</p>
<p>输入文件终止符 </p>
<p>从键盘上输入文件终止符 在windows上是 ctrl + z 在unix系统上包括mac 是ctrl + d.</p>
<h2 id="Using-File-Redirection"><a href="#Using-File-Redirection" class="headerlink" title="Using File Redirection"></a>Using File Redirection</h2><p>It can be tedious to repeatedly type these transactions as input to the programs you are testing. Most operating systems support file redirection, which lets us associate a named file with the standard input and the standard output:</p>
<p>$ addItems <infile >outfile</p>
<p>Assuming $ is the system prompt and our addition program has been compiled into an executable file named addItems.exe (or addItems on UNIX systems), this command will read transactions from a file named infile and write its output to a file named outfile in the current directory.</p>
<p>使用文件重定向 我们可以使用文件重定向到程序中的输入 cin 输出 cout ，这样程序就可以使用文件作为输入和输出。</p>
<h1 id="Advice-Deciding-which-Type-to-Use"><a href="#Advice-Deciding-which-Type-to-Use" class="headerlink" title="Advice: Deciding which Type to Use"></a>Advice: Deciding which Type to Use</h1><p>C++, like C, is designed to let programs get close to the hardware when necessary. The arithmetic types are defined to cater to the peculiarities of various kinds of hardware. Accordingly, the number of arithmetic types in C++ can be bewildering. Most programmers can (and should) ignore these complexities by restricting the types they use. A few rules of thumb can be useful in deciding which type to use:</p>
<p>• Use an unsigned type when you know that the values cannot be negative.</p>
<p>• Use int for integer arithmetic. short is usually too small and, in practice, long often has the same size as int. If your data values are larger than the minimum guaranteed size of an int, then use long long.</p>
<p>• Do not use plain char or bool in arithmetic expressions. Use them only to hold characters or truth values. Computations using char are especially problematic because char is signed on some machines and unsigned on others. If you need a tiny integer, explicitly specify either signed char or unsigned char.</p>
<p>• Use double for floating-point computations; float usually does not have enough precision, and the cost of double-precision calculations versus single-precision is negligible. In fact, on some machines, double-precision operations are faster than single. The precision offered by long double usually is unnecessary and often entails considerable run-time cost.</p>
<p>建议 使用哪种类型</p>
<ul>
<li>去定是正数时使用 unsigned 类型</li>
<li>使用int做数值运算</li>
<li>不要char 和 bool 类型 在算数运算中</li>
<li>使用 double类型做浮点运算</li>
</ul>
<h1 id="建议：避免强制类型转换"><a href="#建议：避免强制类型转换" class="headerlink" title="建议：避免强制类型转换"></a>建议：避免强制类型转换</h1><p><img src="/uploads/14889592935857.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/23/cpp-1-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="imagine243">
      <meta itemprop="description" content="less is more">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imagine">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/23/cpp-1-4/" class="post-title-link" itemprop="url">Reading an Unknown Number of Inputs</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">نُشر في</span>

      <time title="أُنشأ: 2017-02-23 17:58:50" itemprop="dateCreated datePublished" datetime="2017-02-23T17:58:50+08:00">2017-02-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">عُدل في</span>
        <time title="عُدل: 2021-11-11 17:02:04" itemprop="dateModified" datetime="2021-11-11T17:02:04+08:00">2021-11-11</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Reading-an-Unknown-Number-of-Inputs"><a href="#Reading-an-Unknown-Number-of-Inputs" class="headerlink" title="Reading an Unknown Number of Inputs"></a>Reading an Unknown Number of Inputs</h1><p>code is </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line"></span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">    int sum = 0;</span><br><span class="line">    int value = 0;</span><br><span class="line">    while (std::cin &gt;&gt; value) &#123;</span><br><span class="line">        sum += value;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    std::cout &lt;&lt; &quot;sum is &quot; &lt;&lt; sum &lt;&lt; std::endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>When we use an istream as a condition, the effect is to test the state of the stream. If the stream is valid—that is, if the stream hasn’t encountered an error—then the test succeeds. An istream becomes invalid when we hit end-of-file or encounter an invalid input, such as reading a value that is not an integer. An istream that is in an invalid state will cause the condition to yield false.</p>
<p>当我们使用istream当作一个条件变量时， 相当于测试这个stream的状态，当是stream是合法的，stream不会触犯一个error，这个测试就是成功的，返回true。 当istream读取到文件末尾符 或者读区到不合法的输入 （比如不适int类型的）istream就会处在一个不合法的状态，返回false。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/23/cpp-1-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="imagine243">
      <meta itemprop="description" content="less is more">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imagine">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/23/cpp-1-2/" class="post-title-link" itemprop="url">A First Look at Input/Output</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">نُشر في</span>

      <time title="أُنشأ: 2017-02-23 17:35:02" itemprop="dateCreated datePublished" datetime="2017-02-23T17:35:02+08:00">2017-02-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">عُدل في</span>
        <time title="عُدل: 2021-11-11 17:02:04" itemprop="dateModified" datetime="2021-11-11T17:02:04+08:00">2021-11-11</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="A-First-Look-at-Input-Output"><a href="#A-First-Look-at-Input-Output" class="headerlink" title="A First Look at Input/Output"></a>A First Look at Input/Output</h2><p>需要导入标准库中的iostream库</p>
<pre><code>#include &lt;iostream&gt;
</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/16/work-notify/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="imagine243">
      <meta itemprop="description" content="less is more">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imagine">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/16/work-notify/" class="post-title-link" itemprop="url">work_notify</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">نُشر في</span>

      <time title="أُنشأ: 2017-02-16 14:31:00" itemprop="dateCreated datePublished" datetime="2017-02-16T14:31:00+08:00">2017-02-16</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">عُدل في</span>
        <time title="عُدل: 2021-11-11 17:02:04" itemprop="dateModified" datetime="2021-11-11T17:02:04+08:00">2021-11-11</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="效率提高-－-工作中的通知"><a href="#效率提高-－-工作中的通知" class="headerlink" title="效率提高 － 工作中的通知"></a>效率提高 － 工作中的通知</h3><p>工作中经常有一些在命令行下的的任务，不需要实时看着，同时需要大量的时间。<br>这样的任务只需要工作完成后通知一下就可以。添加了一个系统的通知命令来实现。</p>
<h4 id="添加命令"><a href="#添加命令" class="headerlink" title="添加命令"></a>添加命令</h4><p>参考的这里的答案  <a target="_blank" rel="noopener" href="http://apple.stackexchange.com/questions/57412/how-can-i-trigger-a-notification-center-notification-from-an-applescript-or-shel">参考链接</a></p>
<p>AppleScript 可以发送系统的通知 命令如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">osascript -e &#x27;display notification &quot;Lorem ipsum dolor sit amet&quot; with title &quot;Title&quot;&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="/uploads/apple_sript_notify.png" alt="apple_sript_notify"></p>
<p>我们在/usr/local/bin 下添加一个名字是notify的脚本，然后chmod ＋x 添加执行权限，脚本如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">/usr/bin/osascript -e &quot;display notification \&quot;$*\&quot; with title \&quot;$1\&quot; &quot;</span><br></pre></td></tr></table></figure>

<p>现在我们可以使用通知了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">notify job done</span><br></pre></td></tr></table></figure>

<p>延时5s通知</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sleep 5; notify job done</span><br></pre></td></tr></table></figure>





      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2016/10/19/cpp-duotai/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="imagine243">
      <meta itemprop="description" content="less is more">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imagine">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/10/19/cpp-duotai/" class="post-title-link" itemprop="url">cpp_duotai</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">نُشر في</span>

      <time title="أُنشأ: 2016-10-19 19:53:54" itemprop="dateCreated datePublished" datetime="2016-10-19T19:53:54+08:00">2016-10-19</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">عُدل في</span>
        <time title="عُدل: 2021-11-11 17:02:04" itemprop="dateModified" datetime="2021-11-11T17:02:04+08:00">2021-11-11</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="c-的运行时多态"><a href="#c-的运行时多态" class="headerlink" title="c++的运行时多态"></a>c++的运行时多态</h2><p>之前看到一个介绍c＋＋多态的例子，亲手实验的结果与我设想的结果不一致，我自己在这个问题上产生了错误。<br>例子是：<br>    #include <iostream></p>
<pre><code>class A
&#123;
    public :
    virtual ~A()
    &#123;
        std::cout&lt;&lt; &quot;A deleted&quot; &lt;&lt;std::endl;
    &#125;;
    virtual void out1() = 0;
    virtual void out2()
    &#123;
        std::cout&lt;&lt; &quot;A (out2) &quot;&lt;&lt;std::endl;
    &#125;
    
    void out3()
    &#123;
        std::cout&lt;&lt; &quot;A (out3) &quot;&lt;&lt;std::endl;
    &#125;
&#125;;


class B : public A
&#123;
public:
    virtual ~B()
    &#123;
        std::cout&lt;&lt; &quot;B deleted&quot; &lt;&lt;std::endl;
    &#125;;
    
    void out1()
    &#123;
        std::cout&lt;&lt; &quot;B (out1) &quot; &lt;&lt;std::endl;
    &#125;
    
    void out2()
    &#123;
        std::cout&lt;&lt; &quot;B (out2) &quot; &lt;&lt;std::endl;
    &#125;
    
    void out3()
    &#123;
        std::cout&lt;&lt; &quot;B (out3) &quot; &lt;&lt;std::endl;
    &#125;
&#125;;

int main(int argc, const char * argv[]) &#123;   
    A * a = new B;
    a-&gt;out1();
    a-&gt;out2();
    a-&gt;out3();
    
    B * b = new B;
    b-&gt;out1();
    b-&gt;out2();
    b-&gt;out3();
    
    B * c = new B;
    c-&gt;B::out1();
    c-&gt;A::out2();
    c-&gt;A::out3();
    
    delete a;
    delete b;
    delete c;
    
    return 0;
&#125;
</code></pre>
<h3 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h3><p>A::out1() 是纯虚函数 只能被子类实现，不能直接调用  c-&gt;A::out1() 是错误的</p>
<p> a-&gt;out3() 调用的是A::out3() out3 是一个普通的函数  a指针是A类型的所以调用的是A::out3()  (震惊到我了)</p>
<p> out2 是虚函数 实现了运行时多态 父类的指针在运行时动态执行子类的out2函数</p>
<p> 总结 out1 纯虚函数 就像是java中的接口定义了子类必须要实现的行为<br>      out2  虚函数 在cpp中实现了运行时多态<br>     out3 普通函数  子类的out3并不会替代父类中的out3，而是同时存在，根据指针类型来调用 或者显式的声明调用的是哪个函数 通过A::out3() 或者 B::out3() 这样的方式</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2016/09/03/cpp-file/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="imagine243">
      <meta itemprop="description" content="less is more">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imagine">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/09/03/cpp-file/" class="post-title-link" itemprop="url">بدون عنوان</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">نُشر في</span>

      <time title="أُنشأ: 2016-09-03 23:16:02" itemprop="dateCreated datePublished" datetime="2016-09-03T23:16:02+08:00">2016-09-03</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">عُدل في</span>
        <time title="عُدل: 2021-11-11 17:02:04" itemprop="dateModified" datetime="2021-11-11T17:02:04+08:00">2021-11-11</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="c-的文件操作"><a href="#c-的文件操作" class="headerlink" title="c++ 的文件操作"></a>c++ 的文件操作</h2><p>资料 <a target="_blank" rel="noopener" href="http://www.cplusplus.com/doc/tutorial/files/">http://www.cplusplus.com/doc/tutorial/files/</a></p>
<p>原来一直分不清c与c＋＋ 对文件的读写的不同，同时对c＋＋ 中文件读写也了解的不够详细，cplusplus 上的这篇文章详细易懂，写一下笔记。</p>
<h3 id="文件操作类"><a href="#文件操作类" class="headerlink" title="文件操作类"></a>文件操作类</h3><ul>
<li><p>ofstream: Stream class to write on files</p>
</li>
<li><p>ifstream: Stream class to read from files</p>
</li>
<li><p>fstream: Stream class to both read and write from/to files.</p>
<p>  // basic file operations<br>  #include <iostream><br>  #include <fstream><br>  using namespace std;</p>
<p>  int main () {</p>
<pre><code>ofstream myfile;
myfile.open (&quot;example.txt&quot;);
myfile &lt;&lt; &quot;Writing this to a file.\n&quot;;
myfile.close();
return 0;
</code></pre>
<p>  }</p>
</li>
</ul>
<h3 id="打开关闭文件"><a href="#打开关闭文件" class="headerlink" title="打开关闭文件"></a>打开关闭文件</h3><p>open(filename, mode)</p>
<p>mode :</p>
<ul>
<li><p>ios::in    打开读取的文件</p>
</li>
<li><p>ios::out    打开写入的文件</p>
</li>
<li><p>ios::binary    以二进制的方式打开文件</p>
</li>
<li><p>ios::ate    设置初始的指针在文件的末尾，如果没有设置这个，初始的指针在文件的开头<br>ios::app    All 所有的写入操作都会添加在文件的末尾<br>ios::trunc 如果写入的文件已经存在且有内容，原来的内容会被删除写入新的内容。</p>
<p>  ofstream myfile;<br>  myfile.open (“example.bin”, ios::out | ios::app | ios::binary);</p>
</li>
</ul>
<p>默认情况下：<br>ofstream ios::out<br>ifstream ios::in<br>fstream ios::in | ios::out</p>
<p>这三个类的构造函数跟open函数有异样的作用</p>
<pre><code>ofstream myfile (&quot;example.bin&quot;, ios::out | ios::app | ios::binary);
</code></pre>
<p>可以使用is_open() 来检查文件是否成功的打开</p>
<pre><code>if (myfile.is_open()) &#123; /* ok, proceed with output */ &#125;
</code></pre>
<p>关闭文件</p>
<pre><code>myfile.close()
</code></pre>
<h3 id="文本文件"><a href="#文本文件" class="headerlink" title="文本文件"></a>文本文件</h3><pre><code>// writing on a text file
#include &lt;iostream&gt;
#include &lt;fstream&gt;
using namespace std;

int main () &#123;
  ofstream myfile (&quot;example.txt&quot;);
  if (myfile.is_open())
  &#123;
    myfile &lt;&lt; &quot;This is a line.\n&quot;;
    myfile &lt;&lt; &quot;This is another line.\n&quot;;
    myfile.close();
  &#125;
  else cout &lt;&lt; &quot;Unable to open file&quot;;
  return 0;
&#125;

// reading a text file
#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;
using namespace std;

int main () &#123;
  string line;
  ifstream myfile (&quot;example.txt&quot;);
  if (myfile.is_open())
  &#123;
    while ( getline (myfile,line) )
    &#123;
      cout &lt;&lt; line &lt;&lt; &#39;\n&#39;;
    &#125;
    myfile.close();
  &#125;

  else cout &lt;&lt; &quot;Unable to open file&quot;; 

  return 0;
&#125;
</code></pre>
<h3 id="检查状态"><a href="#检查状态" class="headerlink" title="检查状态"></a>检查状态</h3><ul>
<li>bad()<br>Returns true if a reading or writing operation fails. For example, in the case that we try to write to a file that is not open for writing or if the device where we try to write has no space left.</li>
<li>fail()<br>Returns true in the same cases as bad(), but also in the case that a format error happens, like when an alphabetical character is extracted when we are trying to read an integer number.</li>
<li>eof()<br>Returns true if a file open for reading has reached the end.</li>
<li>good()<br>It is the most generic state flag: it returns false in the same cases in which calling any of the previous functions would return true. Note that good and bad are not exact opposites (good checks more state flags at once).</li>
</ul>
<h3 id="读取写入的位置"><a href="#读取写入的位置" class="headerlink" title="读取写入的位置"></a>读取写入的位置</h3><p>tellg() 和 tellp() 函数 返回值是 streampos类型的</p>
<p>seekg() 和 seekp()</p>
<p>seekg ( position );<br>seekp ( position );</p>
<p>seekg ( offset, direction );<br>seekp ( offset, direction );</p>
<ul>
<li><p>ios::beg    offset counted from the beginning of the stream</p>
</li>
<li><p>ios::cur    offset counted from the current position</p>
</li>
<li><p>ios::end    offset counted from the end of the stream</p>
<p>  // obtaining file size<br>  #include <iostream><br>  #include <fstream><br>  using namespace std;</p>
<p>  int main () {</p>
<pre><code>streampos begin,end;
ifstream myfile (&quot;example.bin&quot;, ios::binary);
begin = myfile.tellg();
myfile.seekg (0, ios::end);
end = myfile.tellg();
myfile.close();
cout &lt;&lt; &quot;size is: &quot; &lt;&lt; (end-begin) &lt;&lt; &quot; bytes.\n&quot;;
return 0;
</code></pre>
<p>  }</p>
</li>
</ul>
<h3 id="二进制"><a href="#二进制" class="headerlink" title="二进制"></a>二进制</h3><pre><code>// reading an entire binary file
#include &lt;iostream&gt;
#include &lt;fstream&gt;
using namespace std;

int main () &#123;
  streampos size;
  char * memblock;

  ifstream file (&quot;example.bin&quot;, ios::in|ios::binary|ios::ate);
  if (file.is_open())
  &#123;
    size = file.tellg();
    memblock = new char [size];
    file.seekg (0, ios::beg);
    file.read (memblock, size);
    file.close();

    cout &lt;&lt; &quot;the entire file content is in memory&quot;;

    delete[] memblock;
  &#125;
  else cout &lt;&lt; &quot;Unable to open file&quot;;
  return 0;
&#125;
</code></pre>
<h3 id="buffer和同步"><a href="#buffer和同步" class="headerlink" title="buffer和同步"></a>buffer和同步</h3><p>在写入操作时是先写入了一块固定大小的buffer中，当文件关闭或者buffer满了就会写入文件，也可以调用sync() 将buffer写入文件</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="الصفحة السابقة"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="الصفحة التالية"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">imagine243</span>
</div>
  <div class="powered-by">تطبيق الموقع <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
